
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>masseuse</title>
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta content="" name="keywords">
  <meta content="" name="description">

  
  <link href="../image/logo18.png" rel="icon" type="image/x-icon">
  
  <link href="../lib/bootstrap/css/bootstrap.min.css" rel="stylesheet">  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Sarabun">
  <link href="../css/menu.css" rel="stylesheet">
  <script src="https://unpkg.com/axios@1.1.2/dist/axios.min.js"></script>

  <script type="text/javascript" src="../lib/jquery/jquery.min.js" ></script>
   <script> 
     $(function(){ $("#header").load("../include/menu.html") });
     $(function(){ $("#footer").load("../include/footer.html") });     
   </script>
  

</head>
<div id="header"></div>

<body> 
 
  <section class="post-wrapper-top">
    
    <div class="container">
      <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
        
        <h2>ข้อมูลหมอนวด</h2>
      </div>
      <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
        <!-- search -->
        <div class="search-bar">
          <form action="" method="get" >
            <fieldset>
              <input type="image" src="../image/search.png" class="searchsubmit" alt="search" width="30" height="30" align="center">
              <input type="text" class="search_text" name="s" id="s" placeholder="หมอนวด" align="right">
            </fieldset>
          </form>
        </div>
        <!-- / end div .search-bar -->
      </div>
      <table class="table table-striped" data-effect="fade" align="center">
        <thead>
          <tr>
            <td colspan="8" align="center">
              <a href="../masseuse/masseuse_add.html"><h4>เพิ่มข้อมูลหมอนวด</h4></a>
            </td>
          </tr>
          <tr>
            <th>ที่</th>
            <th>ชื่อ</th>        
            <th>เบอร์โทร</th> 
            <th>ใบประกอบวิชาชีพ</th>                            
            <th>รูปถ่าย</th>              
            <th>การจัดการ</th>       
          </tr>
        </thead>
        <tbody id="masseuse">       
        </tbody>
      </table>
      <div id="loading"> <span>Loading..</span></div>
      <br><br><br><br><br><br><br><br><br><br><br>
    </div>
    <div id="footer"></div>
  </section>


<script>
  var bodyHtml = document.getElementById("masseuse")
  const urlname = "http://192.168.1.92:3000"
  async function getData() {
    const response = await axios.get(urlname + "/masseuse")
    var data = response.data
    console.log(data)
    if (response){
      hideLoader()
    }
    DisplayData(data)
  }
  getData()

  
  function hideLoader() {
    document.getElementById("loading").style.display = "none"
  }
  function DisplayData(data) {
    let body = ""
    for (let r of data) {
      body += `<tr>
            <td>${r.ID_masseuse}</td>
            <td>${r.Name_masseuse}</td>
            <td>${r.Tel_masseuse}</td>
            <td><img  src="http://192.168.1.92:3000/${r.license}"/ width="50" height="50"></td>  
            <td><img  src="http://192.168.1.92:3000/${r.Pic_masseuse}"/ width="50" height="50"></td>

          <td>          
          <a href="../masseuse/masseuse_edit.html">
          <img src="../image/edit.png" width="30">
          </td>
          
  </tr>
    `
    }
  bodyHtml.innerHTML = body 
  }
</script>



</body>
</html>
